"use strict";var numbers=require("./numbers"),Int64Buffer=require("int64-buffer").Int64LE,Int64=function(a){a&&(this.s=45===a.charCodeAt(0)?(a=a.slice(1),-1):1,a="00000".substring(0,5-a.length)+a,this.mi=a.slice(0,a.length-4),this.md=a.slice(a.length-4),this.mdf=parseFloat((1===this.s?"":"-")+"0."+this.md),this.min=parseInt(this.mi,10),this.mins=parseInt((1===this.s?"":"-")+this.mi,10),this.mdn=parseInt(this.md,10),this.mdns=parseInt("1"+this.md,10))};Int64.prototype={toString:function(){return(-1===this.s?"-":"")+(this.mi+this.md).replace(/^[0]+/g,"")},plus:function(a){if(this.s===a.s){var b=0,c=this.mdn+a.mdn,d=c.toString();d.length>4&&(b=1,d=d.slice(1));var e=this.min+a.min+b;return new Int64((-1===this.s?"-":"")+e.toString()+d)}var f,g,h=0;-1===this.s?(f=a,g=this):(f=this,g=a);var i=g.absIsHigherThan(f)?-1:1,j=f.mdn-g.mdn;j<0&&(-1===i?j=-j:(subdec=f.mdns-g.mdn,h=1));var k=j.toString();k="00000".substring(0,4-k.length)+k;var l=Math.abs(f.min-g.min-h);return new Int64((-1===i?"-":"")+l.toString()+k)},plusFloat:function(a){var b=(this.mdf+a.mdf).toFixed(4).toString().split("."),c=this.mins+a.mins+parseInt(b[0]);return new Int64(c.toString()+b[1])},absIsHigherThan:function(a){return this.min>a.min||this.min===a.min&&this.mdn>a.this.min>a.min}},module.exports=Int64;